<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æ¡ä»¶æ„é€ å™¨ | Easy-Es</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/logo.svg">
    <script async="true" src="https://cdn.wwads.cn/js/makemoney.js" type="text/javascript"></script>
    <script>
    // ä¸‡ç»´å¹¿å‘Šâ€œç¦æ­¢â€å¹¿å‘Šæ‹¦æˆª
    // function called if wwads is blocked
    // https://github.com/bytegravity/whitelist-wwads
    function ABDetected() {
      var adBlockDetected_div = document.createElement("div");
      document.body.appendChild(adBlockDetected_div);
      var navbar = document.querySelector(".navbar");
      navbar.style.cssText="transition:top 300ms;top:33px";
      adBlockDetected_div.style.cssText = "position: fixed; top: 0; left: 0; width: 100%; background: #E01E5A; color: #fff; z-index: 9999999999; font-size: 14px; text-align: center; line-height: 1.5; font-weight: bold; padding-top: 6px; padding-bottom: 6px;";
      adBlockDetected_div.innerHTML = "æˆ‘ä»¬çš„å¹¿å‘ŠæœåŠ¡å•† <a style='color:#fff;text-decoration:underline' target='_blank' href='https://wwads.cn/page/end-user-privacy'>å¹¶ä¸è·Ÿè¸ªæ‚¨çš„éšç§</a>ï¼Œä¸ºäº†æ”¯æŒæœ¬ç«™çš„é•¿æœŸè¿è¥ï¼Œè¯·å°†æˆ‘ä»¬çš„ç½‘ç«™ <a style='color: #fff;text-decoration:underline' target='_blank' href='https://wwads.cn/page/whitelist-wwads'>åŠ å…¥å¹¿å‘Šæ‹¦æˆªå™¨çš„ç™½åå•</a>ã€‚";
      document.getElementsByTagName("body")[0].appendChild(adBlockDetected_div);
      // add a close button to the right side of the div
      var adBlockDetected_close = document.createElement("div");
      adBlockDetected_close.style.cssText = "position: absolute; top: 0; right: 10px; width: 30px; height: 30px; background: #E01E5A; color: #fff; z-index: 9999999999; line-height: 30px; cursor: pointer;";
      adBlockDetected_close.innerHTML = "Ã—";
      adBlockDetected_div.appendChild(adBlockDetected_close);
      // add a click event to the close button
      adBlockDetected_close.onclick = function() {
      this.parentNode.parentNode.removeChild(this.parentNode);
      navbar.style.cssText="transition:top 300ms;top:0";
      };
    }

    function vote() {
      var voteDetected_div = document.createElement("div");
      voteDetected_div.style.cssText = "position: absolute; top: 0; left: 0; width: 100%; background: #7bbfea; color: #fff; z-index: 9999999999; font-size: 14px; text-align: center; line-height: 1.5; font-weight: bold; padding-top: 6px; padding-bottom: 6px;";
      voteDetected_div.innerHTML = "<a style='color:#fff;text-decoration:underline' target='_blank' href='xxxxxx'>Easy-Es æ­£åœ¨å‚ä¸â€œ2022å¹´åº¦ OSC ä¸­å›½å¼€æºé¡¹ç›®â€è¯„é€‰ï¼Œè¯·ä¸ºæˆ‘ä»¬æŠ•ä¸Šå®è´µçš„ä¸€ç¥¨ï¼Œè°¢è°¢ï¼</a>";
      document.getElementsByTagName("body")[0].appendChild(voteDetected_div);
      voteDetected_div.onclick = function() {
        this.remove();
      };
    }

    function docReady(t) {
      "complete" === document.readyState ||
      "interactive" === document.readyState
        ? setTimeout(t, 1)
        : document.addEventListener("DOMContentLoaded", t);
    }

    //check if wwads' fire function was blocked after document is ready with 3s timeout (waiting the ad loading)
    docReady(function () {
      setTimeout(function () {
        if( window._AdBlockInit === undefined ){
            ABDetected();
        }
      }, 3000);
    });
  </script>
    <meta name="description" content="å‚»ç“œçº§ElasticSearchæœç´¢å¼•æ“ORMæ¡†æ¶">
    <meta name="keywords" content="easy-es,Easy-Eså®˜ç½‘,å‚»ç“œçº§Elasticsearchæœç´¢å¼•æ“ormæ¡†æ¶">
    <meta name="theme-color" content="#11a8cd">
    <meta name="wwads-cn-verify" content="6c4b761a28b734fe93831e3fb400ce87">
    
    <link rel="preload" href="/assets/css/0.styles.6ef972f0.css" as="style"><link rel="preload" href="/assets/js/app.d8825657.js" as="script"><link rel="preload" href="/assets/js/2.b31e9563.js" as="script"><link rel="preload" href="/assets/js/17.c964d5e4.js" as="script"><link rel="prefetch" href="/assets/js/10.ce9e4179.js"><link rel="prefetch" href="/assets/js/11.9fa0dca3.js"><link rel="prefetch" href="/assets/js/12.1ac4758b.js"><link rel="prefetch" href="/assets/js/13.03ec605d.js"><link rel="prefetch" href="/assets/js/14.5b570722.js"><link rel="prefetch" href="/assets/js/15.6251bc25.js"><link rel="prefetch" href="/assets/js/16.7efc9d20.js"><link rel="prefetch" href="/assets/js/18.f139317c.js"><link rel="prefetch" href="/assets/js/19.ed077ac6.js"><link rel="prefetch" href="/assets/js/20.ecd9d678.js"><link rel="prefetch" href="/assets/js/21.20d107ac.js"><link rel="prefetch" href="/assets/js/22.92c5d56d.js"><link rel="prefetch" href="/assets/js/23.61a37b77.js"><link rel="prefetch" href="/assets/js/24.588c7fbe.js"><link rel="prefetch" href="/assets/js/25.3abb42f0.js"><link rel="prefetch" href="/assets/js/26.d92123f2.js"><link rel="prefetch" href="/assets/js/27.26ed9a0f.js"><link rel="prefetch" href="/assets/js/28.23d8772c.js"><link rel="prefetch" href="/assets/js/29.3b8ba466.js"><link rel="prefetch" href="/assets/js/3.9bed2644.js"><link rel="prefetch" href="/assets/js/30.74ae62f4.js"><link rel="prefetch" href="/assets/js/31.1344813f.js"><link rel="prefetch" href="/assets/js/32.e24baad6.js"><link rel="prefetch" href="/assets/js/33.765d0f20.js"><link rel="prefetch" href="/assets/js/34.784ca7c5.js"><link rel="prefetch" href="/assets/js/35.8298ef13.js"><link rel="prefetch" href="/assets/js/36.252cae81.js"><link rel="prefetch" href="/assets/js/37.8cae2719.js"><link rel="prefetch" href="/assets/js/38.345c3a98.js"><link rel="prefetch" href="/assets/js/39.a1f04375.js"><link rel="prefetch" href="/assets/js/4.ff5881ba.js"><link rel="prefetch" href="/assets/js/40.e305adb7.js"><link rel="prefetch" href="/assets/js/41.716c1128.js"><link rel="prefetch" href="/assets/js/42.b8ad4e7d.js"><link rel="prefetch" href="/assets/js/43.bf45e0b1.js"><link rel="prefetch" href="/assets/js/44.0ef92d59.js"><link rel="prefetch" href="/assets/js/45.e0c33e0a.js"><link rel="prefetch" href="/assets/js/5.494b09be.js"><link rel="prefetch" href="/assets/js/6.f1b3c3cc.js"><link rel="prefetch" href="/assets/js/7.1334f16e.js"><link rel="prefetch" href="/assets/js/8.fcc202d8.js"><link rel="prefetch" href="/assets/js/9.1211f836.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6ef972f0.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Easy-Es" class="logo"> <span class="site-name can-hide">Easy-Es</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="/pages/ec7460/" class="nav-link">æ–‡æ¡£</a></div><div class="nav-item"><a href="/pages/fb599d/" class="nav-link">ğŸ’–æ”¯æŒ</a></div><div class="nav-item"><a href="/pages/1a819d/" class="nav-link">ğŸŒ»ç”Ÿæ€</a></div><div class="nav-item"><a href="/pages/55wa9d/" class="nav-link">ğŸš€å…³äºé¡¹ç›®</a></div><div class="nav-item"><a href="/pages/kd129d/" class="nav-link">åŠ å…¥ç¤¾åŒºè®¨è®º</a></div><div class="nav-item"><a href="/pages/7d828w/" class="nav-link">å‚ä¸è´¡çŒ®</a></div><div class="nav-item"><a href="/pages/6f829d/" class="nav-link">è°åœ¨ä½¿ç”¨</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ’æ¨è" class="dropdown-title"><!----> <span class="title" style="display:;">ğŸ’æ¨è</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/easy-es/fit-plan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å¥èº«è®¡åˆ’ä¸€é”®ç”Ÿæˆç³»ç»Ÿ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://doc.xugaoyi.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vuepress-theme-vdoing
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://gitee.com/dromara/easy-es" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/dromara/easy-es" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ’«è¯­è¨€é€‰æ‹©" class="dropdown-title"><!----> <span class="title" style="display:;">ğŸ’«è¯­è¨€é€‰æ‹©</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://easy-es.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç®€ä½“ä¸­æ–‡
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://en.easy-es.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  English
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="/pages/ec7460/" class="nav-link">æ–‡æ¡£</a></div><div class="nav-item"><a href="/pages/fb599d/" class="nav-link">ğŸ’–æ”¯æŒ</a></div><div class="nav-item"><a href="/pages/1a819d/" class="nav-link">ğŸŒ»ç”Ÿæ€</a></div><div class="nav-item"><a href="/pages/55wa9d/" class="nav-link">ğŸš€å…³äºé¡¹ç›®</a></div><div class="nav-item"><a href="/pages/kd129d/" class="nav-link">åŠ å…¥ç¤¾åŒºè®¨è®º</a></div><div class="nav-item"><a href="/pages/7d828w/" class="nav-link">å‚ä¸è´¡çŒ®</a></div><div class="nav-item"><a href="/pages/6f829d/" class="nav-link">è°åœ¨ä½¿ç”¨</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ’æ¨è" class="dropdown-title"><!----> <span class="title" style="display:;">ğŸ’æ¨è</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/easy-es/fit-plan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å¥èº«è®¡åˆ’ä¸€é”®ç”Ÿæˆç³»ç»Ÿ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://doc.xugaoyi.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vuepress-theme-vdoing
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://gitee.com/dromara/easy-es" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/dromara/easy-es" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ’«è¯­è¨€é€‰æ‹©" class="dropdown-title"><!----> <span class="title" style="display:;">ğŸ’«è¯­è¨€é€‰æ‹©</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://easy-es.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç®€ä½“ä¸­æ–‡
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://en.easy-es.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  English
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å¿«é€Ÿå…¥é—¨</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/ec7460/" class="sidebar-link">ç®€ä»‹</a></li><li><a href="/pages/258e80/" class="sidebar-link">é€‚ç”¨åœºæ™¯</a></li><li><a href="/pages/6e2197/" class="sidebar-link">é¡¾è™‘ç²‰ç¢</a></li><li><a href="/pages/0867bd/" class="sidebar-link">é¿å‘æŒ‡å—</a></li><li><a href="/pages/949ac4/" class="sidebar-link">å¿«é€Ÿå¼€å§‹</a></li><li><a href="/pages/12283a/" class="sidebar-link">springbooté›†æˆdemo</a></li><li><a href="/pages/9a3e4c/" class="sidebar-link">é…ç½®</a></li><li><a href="/pages/4eb7db/" class="sidebar-link">æ³¨è§£</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>æ ¸å¿ƒåŠŸèƒ½</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/06b5d9/" class="sidebar-link">ç´¢å¼•å¤„ç†</a></li><li><a href="/pages/c5999a/" class="sidebar-link">CRUDæ¥å£</a></li><li><a href="/pages/1cebb8/" aria-current="page" class="active sidebar-link">æ¡ä»¶æ„é€ å™¨</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ‹“å±•åŠŸèƒ½</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/a19563/" class="sidebar-link">æ··åˆæŸ¥è¯¢</a></li><li><a href="/pages/4446a5/" class="sidebar-link">åŸç”ŸæŸ¥è¯¢</a></li><li><a href="/pages/0cf11e/" class="sidebar-link">åˆ†é¡µæŸ¥è¯¢</a></li><li><a href="/pages/05702c/" class="sidebar-link">åµŒå¥—ç±»å‹</a></li><li><a href="/pages/0bbd7e/" class="sidebar-link">çˆ¶å­ç±»å‹</a></li><li><a href="/pages/981130/" class="sidebar-link">è·å–DSLè¯­å¥</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>é«˜é˜¶è¯­æ³•</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/c9c57f/" class="sidebar-link">æŸ¥è¯¢å­—æ®µè¿‡æ»¤</a></li><li><a href="/pages/274da8/" class="sidebar-link">æ’åº</a></li><li><a href="/pages/b508b3/" class="sidebar-link">èšåˆæŸ¥è¯¢</a></li><li><a href="/pages/2688d1/" class="sidebar-link">åˆ†è¯æŸ¥è¯¢</a></li><li><a href="/pages/e6fc8d/" class="sidebar-link">æƒé‡</a></li><li><a href="/pages/899c12/" class="sidebar-link">é«˜äº®æŸ¥è¯¢</a></li><li><a href="/pages/39b41e/" class="sidebar-link">GEOåœ°ç†ä½ç½®æŸ¥è¯¢</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ’ä»¶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/6431d1/" class="sidebar-link">æ’ä»¶</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å…¶å®ƒ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/453119/" class="sidebar-link">é—®ç­”</a></li><li><a href="/pages/98d3d3/" class="sidebar-link">ä¸MPå·®å¼‚</a></li><li><a href="/pages/6fea40/" class="sidebar-link">MySQLå’ŒEEè¯­æ³•å¯¹æ¯”</a></li><li><a href="/pages/b65406/" class="sidebar-link">æ›´æ–°æ—¥å¿—</a></li><li><a href="/pages/e14b42/" class="sidebar-link">æ›´æ–°è®¡åˆ’</a></li><li><a href="/pages/796d01/" class="sidebar-link">ç‰ˆæƒ</a></li><li><a href="/pages/4d7703/" class="sidebar-link">é¸£è°¢</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>0.0</span></li><li data-v-06225672><span data-v-06225672>æ ¸å¿ƒåŠŸèƒ½</span></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="https://gitee.com/easy-es/" target="_blank" title="ä½œè€…" class="beLink" data-v-06225672>è€æ±‰</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-06-21</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">æ¡ä»¶æ„é€ å™¨<!----></h1> <div class="page-slot page-slot-top">
  <div class="wwads-cn wwads-horizontal page-wwads" data-id="174"></div>
  <style>
      .page-wwads{
        width:100%!important;
        min-height: 0;
        margin: 0;
      }
      .page-wwads .wwads-img img{
        width:80px!important;
      }
      .page-wwads .wwads-poweredby{
        width: 40px;
        position: absolute;
        right: 25px;
        bottom: 3px;
      }
      .wwads-content .wwads-text, .page-wwads .wwads-text{
        height: 100%;
        padding-top: 5px;
        display: block;
      }
  </style>
  </div> <div class="theme-vdoing-content content__default"><div class="custom-block tip"><p class="custom-block-title">æ¸©é¦¨æç¤º</p> <p>å¦‚æœæ‚¨ä¹‹å‰å·²ç»æœ‰äº†è§£è¿‡MPçš„æ¡ä»¶æ„é€ å™¨,é‚£æˆ‘ä»¬å»ºè®®æ‚¨ç›´æ¥æ‹‰åˆ°æ–‡æœ«,çœ‹ä¸€ä¸‹index,enableMust2Filter,and&amp;orè¿™ä¸‰é¡¹MPä¸­æ²¡æœ‰çš„å³å¯,å…¶å®ƒä¸MPä¸€è‡´.
Wrapperæ”¯æŒä¸¤ç§æ–¹å¼åˆ›å»º:</p> <ul><li>ç›´æ¥new,ä¾‹å¦‚ new <code>LambdaEsQueryWrapper&lt;&gt;()</code>.</li> <li>é€šè¿‡EsWrappers.lambdaQuery()åˆ›å»º,å¯æ”¯æ’‘é“¾å¼ç¼–ç¨‹çš„åœºæ™¯,å¯¹æ ‡MPçš„Wrappers</li></ul></div> <div class="custom-block tip"><p class="custom-block-title">è¯´æ˜</p> <ul><li>ä»¥ä¸‹å‡ºç°çš„ç¬¬ä¸€ä¸ªå…¥å‚boolean conditionè¡¨ç¤ºè¯¥æ¡ä»¶æ˜¯å¦åŠ å…¥æœ€åç”Ÿæˆçš„è¯­å¥ä¸­ï¼Œä¾‹å¦‚ï¼šquery.like(StringUtils.isNotBlank(name), Entity::getName, name) .eq(age!=null &amp;&amp; age &gt;= 0, Entity::getAge, age)</li> <li>ä»¥ä¸‹ä»£ç å—å†…çš„å¤šä¸ªæ–¹æ³•å‡ä¸ºä»ä¸Šå¾€ä¸‹è¡¥å…¨ä¸ªåˆ«booleanç±»å‹çš„å…¥å‚,é»˜è®¤ä¸ºtrue</li> <li>ä»¥ä¸‹å‡ºç°çš„æ³›å‹Paramå‡ä¸ºWrapperçš„å­ç±»å®ä¾‹(å‡å…·æœ‰AbstractWrapperçš„æ‰€æœ‰æ–¹æ³•)</li> <li>ä»¥ä¸‹æ–¹æ³•åœ¨å…¥å‚ä¸­å‡ºç°çš„Rä¸ºæ³›å‹,åœ¨æ™®é€šwrapperä¸­æ˜¯String,åœ¨LambdaWrapperä¸­æ˜¯å‡½æ•°(ä¾‹:Entity::getId,Entityä¸ºå®ä½“ç±»,getIdä¸ºå­—æ®µidçš„getMethod)</li> <li>ä»¥ä¸‹æ–¹æ³•å…¥å‚ä¸­çš„R columnå‡è¡¨ç¤ºæ•°æ®åº“å­—æ®µ,å½“Rå…·ä½“ç±»å‹ä¸ºStringæ—¶åˆ™ä¸ºæ•°æ®åº“å­—æ®µå(å­—æ®µåæ˜¯æ•°æ®åº“å…³é”®å­—çš„è‡ªå·±ç”¨è½¬ä¹‰ç¬¦åŒ…è£¹!)!è€Œä¸æ˜¯å®ä½“ç±»æ•°æ®å­—æ®µå!!!,å¦å½“Rå…·ä½“ç±»å‹ä¸ºSFunctionæ—¶é¡¹ç›®runtimeä¸æ”¯æŒeclipseè‡ªå®¶çš„ç¼–è¯‘å™¨!!!</li> <li>ä»¥ä¸‹ä¸¾ä¾‹å‡ä¸ºä½¿ç”¨æ™®é€šwrapper,å…¥å‚ä¸ºMapå’ŒListçš„å‡ä»¥jsonå½¢å¼è¡¨ç°!</li> <li>ä½¿ç”¨ä¸­å¦‚æœå…¥å‚çš„Mapæˆ–è€…Listä¸ºç©º,åˆ™ä¸ä¼šåŠ å…¥æœ€åç”Ÿæˆçš„sqlä¸­!</li> <li>æœ‰ä»»ä½•ç–‘é—®å°±ç‚¹å¼€æºç çœ‹,çœ‹ä¸æ‡‚å‡½æ•°çš„<a href="https://www.jianshu.com/p/613a6118e2e0" target="_blank" rel="noopener noreferrer">ç‚¹å‡»æˆ‘å­¦ä¹ æ–°çŸ¥è¯†<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <div class="custom-block tip"><p class="custom-block-title">è­¦å‘Š</p> <p>ä¸æ”¯æŒä»¥åŠä¸èµæˆåœ¨ RPC è°ƒç”¨ä¸­æŠŠ Wrapper è¿›è¡Œä¼ è¾“</p> <ol><li>wrapper å¾ˆé‡</li> <li>ä¼ è¾“ wrapper å¯ä»¥ç±»æ¯”ä¸ºä½ çš„ controller ç”¨ map æ¥æ”¶å€¼(å¼€å‘ä¸€æ—¶çˆ½,ç»´æŠ¤ç«è‘¬åœº)</li> <li>æ­£ç¡®çš„ RPC è°ƒç”¨å§¿åŠ¿æ˜¯å†™ä¸€ä¸ª DTO è¿›è¡Œä¼ è¾“,è¢«è°ƒç”¨æ–¹å†æ ¹æ® DTO æ‰§è¡Œç›¸åº”çš„æ“ä½œ</li> <li>æˆ‘ä»¬æ‹’ç»æ¥å—ä»»ä½•å…³äº RPC ä¼ è¾“ Wrapper æŠ¥é”™ç›¸å…³çš„ issue ç”šè‡³ pr</li></ol></div> <h3 id="abstractwrapper"><a href="#abstractwrapper" class="header-anchor">#</a> AbstractWrapper</h3> <div class="custom-block tip"><p class="custom-block-title">è¯´æ˜</p> <p>QueryWrapper(LambdaEsQueryWrapper) å’Œ UpdateWrapper(LambdaEsUpdateWrapper) çš„çˆ¶ç±»ç”¨äºç”Ÿæˆ è¯­å¥ çš„ where æ¡ä»¶, entity å±æ€§ä¹Ÿç”¨äºç”Ÿæˆ è¯­å¥ çš„ where æ¡ä»¶æ³¨æ„: entity ç”Ÿæˆçš„ where æ¡ä»¶ä¸ ä½¿ç”¨å„ä¸ª api ç”Ÿæˆçš„ where æ¡ä»¶ <strong>æ²¡æœ‰ä»»ä½•å…³è”è¡Œä¸º</strong></p></div> <h3 id="querywrapper"><a href="#querywrapper" class="header-anchor">#</a> QueryWrapper</h3> <div class="custom-block tip"><p class="custom-block-title">è¯´æ˜</p> <p>ç»§æ‰¿è‡ª AbstractWrapper ,è‡ªèº«çš„å†…éƒ¨å±æ€§ entity ä¹Ÿç”¨äºç”Ÿæˆ where æ¡ä»¶åŠ LambdaEsQueryWrapper</p></div> <h3 id="updatewrapper"><a href="#updatewrapper" class="header-anchor">#</a> UpdateWrapper</h3> <div class="custom-block tip"><p class="custom-block-title">è¯´æ˜</p> <p>ç»§æ‰¿è‡ª AbstractWrapper ,è‡ªèº«çš„å†…éƒ¨å±æ€§ entity ä¹Ÿç”¨äºç”Ÿæˆ where æ¡ä»¶åŠ LambdaEsUpdateWrapper</p></div> <h3 id="alleq"><a href="#alleq" class="header-anchor">#</a> allEq</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">allEq</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> params<span class="token punctuation">)</span>
<span class="token function">allEq</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> params<span class="token punctuation">,</span> <span class="token keyword">boolean</span> null2IsNull<span class="token punctuation">)</span>
<span class="token function">allEq</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> params<span class="token punctuation">,</span> <span class="token keyword">boolean</span> null2IsNull<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å…¨éƒ¨<a href="/v1.0.0/020.æ ¸å¿ƒåŠŸèƒ½/eq.html">eq</a>(æˆ–ä¸ªåˆ«<a href="/v1.0.0/020.æ ¸å¿ƒåŠŸèƒ½/isNull.html">isNull</a>)</p> <div class="custom-block tip"><p class="custom-block-title">ä¸ªåˆ«å‚æ•°è¯´æ˜</p> <p>params : keyä¸ºæ•°æ®åº“å­—æ®µå,valueä¸ºå­—æ®µå€¼
null2IsNull : ä¸ºtrueåˆ™åœ¨mapçš„valueä¸ºnullæ—¶è°ƒç”¨<a href="/v1.0.0/020.æ ¸å¿ƒåŠŸèƒ½/isNull.html"> isNull</a>æ–¹æ³•,ä¸ºfalseæ—¶åˆ™å¿½ç•¥valueä¸ºnullçš„</p></div> <ul><li>ä¾‹1: allEq({id:1,name:&quot;è€ç‹&quot;,age:null})---&gt;id = 1 and name = 'è€ç‹' and age is null</li> <li>ä¾‹2: allEq({id:1,name:&quot;è€ç‹&quot;,age:null}, false)---&gt;id = 1 and name = 'è€ç‹'</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">allEq</span><span class="token punctuation">(</span><span class="token class-name">BiPredicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> filter<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> params<span class="token punctuation">)</span>
<span class="token function">allEq</span><span class="token punctuation">(</span><span class="token class-name">BiPredicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> filter<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> params<span class="token punctuation">,</span> <span class="token keyword">boolean</span> null2IsNull<span class="token punctuation">)</span>
<span class="token function">allEq</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">BiPredicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> filter<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> params<span class="token punctuation">,</span> <span class="token keyword">boolean</span> null2IsNull<span class="token punctuation">)</span> 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">ä¸ªåˆ«å‚æ•°è¯´æ˜</p> <blockquote><p>filter : è¿‡æ»¤å‡½æ•°,æ˜¯å¦å…è®¸å­—æ®µä¼ å…¥æ¯”å¯¹æ¡ä»¶ä¸­
params ä¸ null2IsNull : åŒä¸Š</p></blockquote></div> <ul><li>ä¾‹1: allEq((k,v) -&gt; k.indexOf(&quot;a&quot;) &gt;= 0, {id:1,name:&quot;è€ç‹&quot;,age:null})---&gt;name = 'è€ç‹' and age is null</li> <li>ä¾‹2: allEq((k,v) -&gt; k.indexOf(&quot;a&quot;) &gt;= 0, {id:1,name:&quot;è€ç‹&quot;,age:null}, false)---&gt;name = 'è€ç‹'</li></ul> <h3 id="eq"><a href="#eq" class="header-anchor">#</a> eq</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">eq</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">eq</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>ç­‰äº =</li> <li>ä¾‹: eq(&quot;name&quot;, &quot;è€ç‹&quot;)---&gt;name = 'è€ç‹'</li></ul> <h3 id="ne"><a href="#ne" class="header-anchor">#</a> ne</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">ne</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">ne</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>ä¸ç­‰äº !=</li> <li>ä¾‹: ne(&quot;name&quot;, &quot;è€ç‹&quot;)---&gt;name != 'è€ç‹'</li></ul> <h3 id="gt"><a href="#gt" class="header-anchor">#</a> gt</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">gt</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">gt</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>å¤§äº &gt;</li> <li>ä¾‹: gt(&quot;age&quot;, 18)---&gt;age &gt; 18</li></ul> <h3 id="ge"><a href="#ge" class="header-anchor">#</a> ge</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">ge</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">ge</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>å¤§äºç­‰äº &gt;=</li> <li>ä¾‹: ge(&quot;age&quot;, 18)---&gt;age &gt;= 18</li></ul> <h3 id="lt"><a href="#lt" class="header-anchor">#</a> lt</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">lt</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">lt</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>å°äº &lt;</li> <li>ä¾‹: lt(&quot;age&quot;, 18)---&gt;age &lt; 18</li></ul> <h3 id="le"><a href="#le" class="header-anchor">#</a> le</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">le</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">le</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>å°äºç­‰äº &lt;=</li> <li>ä¾‹: le(&quot;age&quot;, 18)---&gt;age &lt;= 18</li></ul> <h3 id="between"><a href="#between" class="header-anchor">#</a> between</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">between</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val1<span class="token punctuation">,</span> <span class="token class-name">Object</span> val2<span class="token punctuation">)</span>
<span class="token function">between</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val1<span class="token punctuation">,</span> <span class="token class-name">Object</span> val2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>BETWEEN å€¼1 AND å€¼2</li> <li>ä¾‹: between(&quot;age&quot;, 18, 30)---&gt;age between 18 and 30</li></ul> <h3 id="notbetween"><a href="#notbetween" class="header-anchor">#</a> notBetween</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">notBetween</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val1<span class="token punctuation">,</span> <span class="token class-name">Object</span> val2<span class="token punctuation">)</span>
<span class="token function">notBetween</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val1<span class="token punctuation">,</span> <span class="token class-name">Object</span> val2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>NOT BETWEEN å€¼1 AND å€¼2</li> <li>ä¾‹: notBetween(&quot;age&quot;, 18, 30)---&gt;age not between 18 and 30</li></ul> <h3 id="like"><a href="#like" class="header-anchor">#</a> like</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">like</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">like</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>LIKE '%å€¼%'</li> <li>ä¾‹: like(&quot;name&quot;, &quot;ç‹&quot;)---&gt;name like '%ç‹%'</li></ul> <h3 id="notlike"><a href="#notlike" class="header-anchor">#</a> notLike</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">notLike</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">notLike</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>NOT LIKE '%å€¼%'</li> <li>ä¾‹: notLike(&quot;name&quot;, &quot;ç‹&quot;)---&gt;name not like '%ç‹%'</li></ul> <h3 id="likeleft"><a href="#likeleft" class="header-anchor">#</a> likeLeft</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">likeLeft</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">likeLeft</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>LIKE '%å€¼'</li> <li>ä¾‹: likeLeft(&quot;name&quot;, &quot;ç‹&quot;)---&gt;name like '%ç‹'</li></ul> <h3 id="likeright"><a href="#likeright" class="header-anchor">#</a> likeRight</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">likeRight</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">likeRight</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>LIKE 'å€¼%'</li> <li>ä¾‹: likeRight(&quot;name&quot;, &quot;ç‹&quot;)---&gt;name like 'ç‹%'</li></ul> <h3 id="isnull"><a href="#isnull" class="header-anchor">#</a> isNull</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">isNull</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">)</span>
<span class="token function">isNull</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>å­—æ®µ IS NULL</li> <li>ä¾‹: isNull(Document::getTitle)---&gt;title is null</li></ul> <h3 id="isnotnull"><a href="#isnotnull" class="header-anchor">#</a> isNotNull</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">isNotNull</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">)</span>
<span class="token function">isNotNull</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>å­—æ®µ IS NOT NULL</li> <li>ä¾‹: isNotNull(Document::getTitle)---&gt;title is not null</li></ul> <h3 id="in"><a href="#in" class="header-anchor">#</a> in</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">in</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> value<span class="token punctuation">)</span>
<span class="token function">in</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> value<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>å­—æ®µ in (value.get(0), value.get(1), ...)</li> <li>ä¾‹: in(&quot;age&quot;,{1,2,3})---&gt;age in (1,2,3)</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">in</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span>
<span class="token function">in</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>å­—æ®µ in (v0, v1, ...)</li> <li>ä¾‹: in(&quot;age&quot;, 1, 2, 3)---&gt;age in (1,2,3)</li></ul> <h3 id="notin"><a href="#notin" class="header-anchor">#</a> notIn</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">notIn</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> value<span class="token punctuation">)</span>
<span class="token function">notIn</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> value<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>å­—æ®µ not in (value.get(0), value.get(1), ...)</li> <li>ä¾‹: notIn(&quot;age&quot;,{1,2,3})---&gt;age not in (1,2,3)</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">notIn</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span>
<span class="token function">notIn</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>å­—æ®µ not in (v0, v1, ...)</li> <li>ä¾‹: notIn(&quot;age&quot;, 1, 2, 3)---&gt;age not in (1,2,3)</li></ul> <h3 id="groupby"><a href="#groupby" class="header-anchor">#</a> groupBy</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">groupBy</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>
<span class="token function">groupBy</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>åˆ†ç»„ï¼šGROUP BY å­—æ®µ, ...</li> <li>ä¾‹: groupBy(Document::getId,Document::getTitle)---&gt;group by id,title</li></ul> <h3 id="orderbydesc"><a href="#orderbydesc" class="header-anchor">#</a> orderByDesc</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">orderByDesc</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>
<span class="token function">orderByDesc</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>æ’åºï¼šORDER BY å­—æ®µ, ... DESC</li> <li>ä¾‹: orderByDesc(Document::getId,Document::getTitle)---&gt;order by id DESC,title DESC</li></ul> <h3 id="limit"><a href="#limit" class="header-anchor">#</a> limit</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">limit</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">limit</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> m<span class="token punctuation">,</span> <span class="token class-name">Integer</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>limit n æœ€å¤šè¿”å›å¤šå°‘æ¡æ•°æ®,ç›¸å½“äºMySQLä¸­limit n ä¸­çš„n,ç”¨æ³•ä¸€è‡´.</li> <li>limit m,n è·³è¿‡mæ¡æ•°æ®,æœ€å¤šè¿”å›næ¡æ•°æ®,ç›¸å½“äºMySQLä¸­çš„limit m,n æˆ– offset m  limit n</li> <li>ä¾‹: limit(10)---&gt;æœ€å¤šåªè¿”å›10æ¡æ•°æ®</li> <li>ä¾‹: limit(2,5)---&gt;è·³è¿‡å‰2æ¡æ•°æ®,ä»ç¬¬3æ¡å¼€å§‹æŸ¥è¯¢,æ€»å…±æŸ¥è¯¢5æ¡æ•°æ®</li></ul> <div class="custom-block tip"><p class="custom-block-title">æ¸©é¦¨æç¤º</p> <p>nå‚æ•°è‹¥ä¸æŒ‡å®š,åˆ™å…¶é»˜è®¤å€¼æ˜¯10000 å¦‚æœä½ å•æ¬¡æŸ¥è¯¢,ä¸æƒ³è¦å¤ªå¤šå¾—åˆ†è¾ƒä½çš„æ•°æ®,éœ€è¦æ‰‹åŠ¨æŒ‡å®šnå»åšé™åˆ¶.
å¦å¤–æ­¤å‚æ•°ä½œç”¨ä¸Esä¸­çš„size,fromä¸€è‡´,åªæ˜¯ä¸ºäº†å…¼å®¹MySQLè¯­æ³•è€Œå¼•å…¥,ä½¿ç”¨è€…å¯ä»¥æ ¹æ®è‡ªèº«ä¹ æƒ¯äºŒé€‰ä¸€,å½“ä¸¤ç§éƒ½ç”¨æ—¶,åªæœ‰ä¸€ç§ä¼šç”Ÿæ•ˆ,åæŒ‡å®šçš„ä¼šè¦†ç›–å…ˆæŒ‡å®šçš„.</p></div> <h3 id="from"><a href="#from" class="header-anchor">#</a> from</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">from</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> from<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>ä»ç¬¬å‡ æ¡æ•°æ®å¼€å§‹æŸ¥è¯¢,ç›¸å½“äºMySQLä¸­limit (m,n)ä¸­çš„m.</li> <li>ä¾‹: from(10)---&gt;ä»ç¬¬10æ¡æ•°æ®å¼€å§‹æŸ¥è¯¢</li></ul> <h3 id="size"><a href="#size" class="header-anchor">#</a> size</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">size</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> size<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>æœ€å¤šè¿”å›å¤šå°‘æ¡æ•°æ®,ç›¸å½“äºMySQLä¸­limit (m,n)ä¸­çš„n æˆ–limit n ä¸­çš„n</li> <li>ä¾‹: size(10)---&gt;æœ€å¤šåªè¿”å›10æ¡æ•°æ®</li></ul> <div class="custom-block tip"><p class="custom-block-title">æ¸©é¦¨æç¤º</p> <p>å¦‚æœä½ å•æ¬¡æŸ¥è¯¢,ä¸æƒ³è¦å¤ªå¤šå¾—åˆ†è¾ƒä½çš„æ•°æ®,éœ€è¦æ‰‹åŠ¨æŒ‡å®šsizeå»åšé™åˆ¶.</p></div> <h3 id="set"><a href="#set" class="header-anchor">#</a> set</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">String</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">String</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>SQL SET å­—æ®µ</li> <li>ä¾‹: set(&quot;name&quot;, &quot;è€æå¤´&quot;)</li> <li>ä¾‹: set(&quot;name&quot;, &quot;&quot;)---&gt;æ•°æ®åº“å­—æ®µå€¼å˜ä¸º<strong>ç©ºå­—ç¬¦ä¸²</strong></li> <li>ä¾‹: set(&quot;name&quot;, null)---&gt;æ•°æ®åº“å­—æ®µå€¼å˜ä¸ºnull</li></ul> <h3 id="index"><a href="#index" class="header-anchor">#</a> index</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">index</span><span class="token punctuation">(</span><span class="token class-name">String</span> indexName<span class="token punctuation">)</span>
<span class="token function">eq</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">String</span> indexName<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">æ¸©é¦¨æç¤º</p> <p>å¯é€šè¿‡wrapper.index(String indexName)æŒ‡å®šæœ¬æ¬¡æŸ¥è¯¢ä½œç”¨äºå“ªä¸ªç´¢å¼•,å¦‚æœæœ¬æ¬¡æŸ¥è¯¢è¦ä»å¤šä¸ªç´¢å¼•ä¸ŠæŸ¥è¯¢,é‚£ä¹ˆç´¢å¼•åç§°å¯ä»¥ç”¨é€—å·éš”å¼€,ä¾‹å¦‚wrapper.eq(&quot;index1&quot;,&quot;indexes&quot;).
wrapperä¸­æŒ‡å®šçš„ç´¢å¼•åç§°ä¼˜å…ˆçº§æœ€é«˜,å¦‚æœä¸æŒ‡å®šåˆ™å–å®ä½“ç±»ä¸­é…ç½®çš„ç´¢å¼•åç§°,å¦‚æœå®ä½“ç±»ä¹Ÿæœªé…ç½®,åˆ™å–å®ä½“åç§°å°å†™ä½œä¸ºå½“å‰æŸ¥è¯¢çš„ç´¢å¼•å
é’ˆå¯¹insert/delete/updateç­‰æ¥å£ä¸­æ— wrapperçš„æƒ…å†µ,å¦‚æœä½ éœ€è¦æŒ‡å®šç´¢å¼•å,å¯ç›´æ¥åœ¨å¯¹åº”æ¥å£çš„å…¥å‚ä¸­æ·»åŠ ç´¢å¼•åç§°,å¯å‚è€ƒä¸‹é¢ç¤ºä¾‹:</p></div> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token class-name">Document</span> document <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Document</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// çœç•¥ä¸ºdocumentèµ‹å€¼çš„ä»£ç </span>
    <span class="token class-name">String</span> indexName <span class="token operator">=</span> <span class="token string">&quot;laohan&quot;</span><span class="token punctuation">;</span>
    <span class="token function">insert</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span>indexName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="enablemust2filter"><a href="#enablemust2filter" class="header-anchor">#</a> enableMust2Filter</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">enableMust2Filter</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> enable<span class="token punctuation">)</span>
<span class="token function">enableMust2Filter</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token keyword">boolean</span> enable<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">æ¸©é¦¨æç¤º</p> <p>æ˜¯å¦å°†mustæŸ¥è¯¢æ¡ä»¶è½¬æ¢æˆfilteræŸ¥è¯¢æ¡ä»¶,å¯ä»¥åœ¨wrapperä¸­ç›´æ¥æŒ‡å®šæœ¬æ¬¡æŸ¥è¯¢çš„æ¡ä»¶æ˜¯å¦è½¬æ¢,å¦‚æœä¸æŒ‡å®š,åˆ™ä»å…¨å±€é…ç½®æ–‡ä»¶ä¸­è·å–,è‹¥é…ç½®æ–‡ä»¶ä¸­ä¹Ÿæœªé…ç½®,åˆ™é»˜è®¤ä¸è½¬æ¢.
mustæŸ¥è¯¢æ¡ä»¶è®¡ç®—å¾—åˆ†,filterä¸è®¡ç®—å¾—åˆ†,å› æ­¤åœ¨ä¸éœ€è¦è®¡ç®—å¾—åˆ†çš„æŸ¥è¯¢åœºæ™¯ä¸­,å¼€å¯æ­¤é…ç½®å¯æå‡å°‘è®¸æŸ¥è¯¢æ€§èƒ½.</p></div> <h3 id="and-or-é‡ç‚¹"><a href="#and-or-é‡ç‚¹" class="header-anchor">#</a> and&amp;or (é‡ç‚¹)</h3> <div class="custom-block tip"><p class="custom-block-title">è‡´æ­‰</p> <p>ESçš„å‚æ•°å®é™…ä¸Šæ˜¯ä»¥æ ‘å½¢æ•°æ®ç»“æ„å°è£…çš„,æ‰€ä»¥åœ¨ESä¸­çš„ANDåŠORæ²¡æœ‰åŠæ³•åšåˆ°å’ŒMySQLä¸­ä¸€è‡´,ä¸ºäº†å®ç°å’ŒMPå‡ ä¹ä¸€è‡´çš„è¯­æ³•,ä½œè€…é‚£ç³Ÿè€å¤´å­å¤´å‘éƒ½æƒ³æ²¡äº†...
å¥½åœ¨æœ€å,åŸºæœ¬ä¸Šåšåˆ°äº†99%ç›¸ä¼¼åº¦çš„è¯­æ³•,ä»æœ‰1%éœ€è¦å„ä½ç”¨æˆ·å­¦ä¹ ä¸€ä¸‹.</p></div> <p>MySQLå’ŒESè¯­æ³•å¯¹åº”å…³ç³»è¡¨æ ¼å¦‚ä¸‹</p> <table><thead><tr><th>MySQL</th> <th>ES</th></tr></thead> <tbody><tr><td>and(æ¡ä»¶1,æ¡ä»¶2...)</td> <td>must BoolQueryBuilder(æ¡ä»¶1,æ¡ä»¶2)</td></tr> <tr><td>or(æ¡ä»¶1,æ¡ä»¶2...)</td> <td>should BoolQueryBuilder(æ¡ä»¶1,æ¡ä»¶2)</td></tr> <tr><td>æ¡ä»¶1.or().æ¡ä»¶2</td> <td>shouldæ¡ä»¶1,shouldæ¡ä»¶2</td></tr></tbody></table> <blockquote><p>AND ä»‹ç»,EEä¸­çš„ANDå…¶å®å°±æ˜¯å°†ANDæ‹¬å·ä¸­çš„å¤šä¸ªæŸ¥è¯¢æ¡ä»¶å°è£…è¿›ä¸€ä¸ªBoolQueryBuilderä¸­ä½œä¸ºæ•´ä½“,ç„¶åè¯¥æ•´ä½“ä¸å…¶ä»–å‚æ•°é»˜è®¤ä»¥Mustå°è£…,åŠŸèƒ½ç±»ä¼¼MySQLä¸­çš„ AND(æ¡ä»¶1,æ¡ä»¶2,æ¡ä»¶3...)</p></blockquote> <p>AND API</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">and</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Param</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span>
<span class="token function">and</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Param</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>AND</li> <li>ä¾‹: and(i -&gt; i.eq(Document::getTitle, &quot;Hello&quot;).ne(Document::getCreator, &quot;Guy&quot;))---&gt;and (title ='Hello' and creator != 'Guy' )</li></ul> <blockquote><p>OR ä»‹ç»,EEä¸­çš„ORå’ŒMPä¸­çš„ORä¸€æ ·,æ”¯æŒ2ç§,ä¸€ç§æ˜¯or(),ä½œä¸ºè¿æ¥ç¬¦,å¦ä¸€ç§æ˜¯or(æ¡ä»¶1,æ¡ä»¶2,æ¡ä»¶3).</p></blockquote> <ul><li>ç¬¬ä¸€ç§or():ç”¨äºæŠŠor()è¿æ¥ç¬¦å‰é¢å’Œåé¢çš„mustæ¡ä»¶ç»Ÿç»Ÿé‡ç½®ä¸ºshouldæŸ¥è¯¢æ¡ä»¶</li> <li>ç¬¬äºŒç§or(æ¡ä»¶1,æ¡ä»¶2,æ¡ä»¶3...): ç”¨äºå°†æ‹¬å·ä¸­çš„å¤šä¸ªæŸ¥è¯¢æ¡ä»¶å°è£…è¿›ä¸€ä¸ªBoolQueryBuilderä¸­ä½œä¸ºæ•´ä½“,ç„¶åè¯¥æ•´ä½“ä¸å…¶å®ƒå‚æ•°é»˜è®¤ä»¥Shouldå°è£…,åŠŸèƒ½ç±»ä¼¼MySQLä¸­çš„OR(æ¡ä»¶1,æ¡ä»¶2,æ¡ä»¶3...)</li> <li>ç¬¬ä¸‰ç§ç‰¹æ®Šæƒ…å†µ,å°±æ˜¯ç¬¬ä¸€ç§or()è¿æ¥ç¬¦å‡ºç°åœ¨and(æ¡ä»¶1.or().æ¡ä»¶2...)æˆ–or(æ¡ä»¶1.or().æ¡ä»¶2...)ä¸­,æ­¤æ—¶or()å°†mustæ¡ä»¶é‡ç½®ä¸ºshouldæ¡ä»¶çš„èŒƒå›´ä»…é™äºæ‹¬å·å†…,æ‹¬å·å¤–é¢çš„æŸ¥è¯¢æ¡ä»¶ä¸å—å½±å“.</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">or</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">or</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>æ‹¼æ¥ OR <strong>æ³¨æ„äº‹é¡¹:</strong> ä¸»åŠ¨è°ƒç”¨orè¡¨ç¤ºç´§æ¥ç€ä¸‹ä¸€ä¸ª<strong>æ–¹æ³•</strong>ä¸æ˜¯ç”¨andè¿æ¥!(ä¸è°ƒç”¨oråˆ™é»˜è®¤ä¸ºä½¿ç”¨andè¿æ¥)</li> <li>ä¾‹: eq(&quot;Document::getId&quot;,1).or().eq(Document::getTitle,&quot;Hello&quot;)---&gt;id = 1 or title ='Hello'</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">or</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Param</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span>
<span class="token function">or</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Param</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><p>OR</p></li> <li><p>ä¾‹: or(i -&gt; i.eq(Document::getTitle, &quot;Hello&quot;).ne(Document::getCreator, &quot;Guy&quot;))---&gt;or (title ='Hello' and status != 'Guy' )</p></li> <li><p>ç‰¹æ®Šæƒ…å†µ</p></li> <li><p>ä¾‹: eq(Document::getTitle,&quot;Hello&quot;)
.and(i-&gt;i.eq(Document::getCreator,&quot;Bob&quot;).or().eq(Document::getCreator,&quot;Tom&quot;))---&gt; title=&quot;Hello&quot; and(creator=&quot;Bob&quot; or creator=&quot;Tom&quot;)</p></li></ul> <hr> <p>é™¤æ­¤ä¹‹å¤–,æœ‰ä¸€éƒ¨åˆ†ä½¿ç”¨åœºæ™¯æ˜¯å¦‚ä¸‹å›¾è¿™æ ·çš„,æ‰€æœ‰æŸ¥è¯¢å­—æ®µ,æŸ¥è¯¢ç±»å‹,åŒ¹é…è§„åˆ™ç­‰éƒ½æ˜¯ä¸å›ºå®šçš„,ç”±ç”¨æˆ·è‡ªç”±æ¥é€‰,è¿™ç§æƒ…å†µä¸‹,é‡‡ç”¨ä¸Šé¢çš„è¯­æ³•ä»£ç ä¼šéå¸¸éš¾å†™,ä¸å¦¨ä½¿ç”¨queryStringQuery APIæ¥è§£å†³,ç”¨å®ƒæ¥è§£å†³,æ•´ä¸ªè¯­æ³•å°±æ›´åƒMySQLäº†,è€Œä¸”çµæ´»æ€§å’Œæ•ˆç‡éƒ½å¾ˆé«˜.</p> <p><img src="https://iknow.hs.net/7bcf189a-053a-48fa-85d6-ef8b763d427a.png" alt="image1"></p> <div class="custom-block tip"><p class="custom-block-title">å‰ç½®çŸ¥è¯†å­¦ä¹ </p> <p>æ­£å¼è¿›å…¥ä¸»é¢˜å‰,æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸‹ESçš„ç´¢å¼•,å› ä¸ºæœ‰å¾ˆå¤šå°ç™½ä¸æ‡‚ESç´¢å¼•,æ‰€ä»¥è¿™é‡Œç®€å•è¯´ä¸€ä¸‹ESçš„keywordç±»å‹å’Œtextç±»å‹,ä»¥å…ä¸‹é¢è¸©å‘,å·²ç»äº†è§£çš„å¯ç›´æ¥è·³è¿‡æ­¤æ®µä»‹ç».</p> <p>ESä¸­çš„keywordç±»å‹,å’ŒMySQLä¸­çš„å­—æ®µåŸºæœ¬ä¸Šå·®ä¸å¤š,å½“æˆ‘ä»¬éœ€è¦å¯¹æŸ¥è¯¢å­—æ®µè¿›è¡Œç²¾ç¡®åŒ¹é…,å·¦æ¨¡ç³Š,å³æ¨¡ç³Š,å…¨æ¨¡ç³Š,æ’åºèšåˆç­‰æ“ä½œæ—¶,éœ€è¦è¯¥å­—æ®µçš„ç´¢å¼•ç±»å‹ä¸ºkeywordç±»å‹,å½“æˆ‘ä»¬éœ€è¦å¯¹å­—æ®µè¿›è¡Œåˆ†è¯æŸ¥è¯¢æ—¶,éœ€è¦è¯¥å­—æ®µçš„ç±»å‹ä¸ºtextç±»å‹,å¹¶ä¸”æŒ‡å®šåˆ†è¯å™¨(ä¸æŒ‡å®šå°±ç”¨ESé»˜è®¤åˆ†è¯å™¨,æ•ˆæœé€šå¸¸ä¸ç†æƒ³).å½“åŒä¸€ä¸ªå­—æ®µ,æˆ‘ä»¬æ—¢éœ€è¦æŠŠå®ƒå½“keywordç±»å‹ä½¿ç”¨,åˆéœ€è¦æŠŠå®ƒå½“textç±»å‹ä½¿ç”¨æ—¶,æ­¤æ—¶æˆ‘ä»¬çš„ç´¢å¼•ç±»å‹ä¸ºkeyword_textç±»å‹,EEä¸­å¯ä»¥å¯¹å­—æ®µæ·»åŠ æ³¨è§£@TableField(fieldType = FieldType.KEYWORD_TEXT),å¦‚æ­¤è¯¥å­—æ®µå°±ä¼šè¢«åˆ›å»ºä¸ºkeyword+textåŒç±»å‹å¦‚ä¸‹å›¾æ‰€ç¤º,å€¼å¾—æ³¨æ„çš„æ˜¯,å½“æˆ‘ä»¬æŠŠè¯¥å­—æ®µå½“åškeywordç±»å‹æŸ¥è¯¢æ—¶,ESè¦æ±‚ä¼ å…¥çš„å­—æ®µåç§°ä¸º&quot;å­—æ®µå.keyword&quot;,å½“æŠŠè¯¥å­—æ®µå½“textç±»å‹æŸ¥è¯¢æ—¶,ç›´æ¥ä½¿ç”¨åŸå­—æ®µåå³å¯.</p></div> <p><img src="https://iknow.hs.net/72818af6-7cc3-4833-b7a7-dbff845ce73e.png" alt="image2"></p> <p>è¿˜éœ€è¦æ³¨æ„çš„æ˜¯,å¦‚æœä¸€ä¸ªå­—æ®µçš„ç´¢å¼•ç±»å‹è¢«åˆ›å»ºä¸ºä»…ä¸ºkeywordç±»å‹(å¦‚ä¸‹å›¾æ‰€ç¤º)æŸ¥è¯¢æ—¶,åˆ™ä¸éœ€è¦åœ¨å…¶åç§°åé¢è¿½åŠ .keyword,ç›´æ¥æŸ¥è¯¢å°±è¡Œ.</p> <p><img src="https://iknow.hs.net/87335e55-1fe3-44ed-920b-61354383e85a.png" alt="image3"></p> <hr> <p>å•°å—¦å®Œäº†,æ­£å¼è¿›å…¥ä¸»é¢˜,queryStringQuery API:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">queryStringQuery</span><span class="token punctuation">(</span><span class="token class-name">String</span> queryString<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å…¶ä¸­queryStringå­—ç¬¦ä¸²å°±æ˜¯æˆ‘ä»¬çš„æŸ¥è¯¢æ¡ä»¶,æˆ‘ä»¬å¯ä»¥ç”¨StringBuilderæŠŠæŸ¥è¯¢å­—æ®µå’Œå€¼æ‹¼æ¥è¿›å»,ç»„è£…æˆæœ€ç»ˆçš„æŸ¥è¯¢è¯­å¥.
ä»¥ä¸Šå›¾ä¸ºä¾‹,æˆ‘æ¼”ç¤ºä¸€ä¸ªåœºæ™¯,è¯·å¿½ç•¥åœºæ™¯åˆç†æ€§,å› ä¸ºæ˜¯æˆ‘çxxé€‰çš„:å‡è®¾æˆ‘çš„æŸ¥è¯¢æ¡ä»¶æ˜¯:å­—æ®µ:åˆ›å»ºè€… ç­‰äºè€ç‹,ä¸”åˆ›å»ºè€…åˆ†è¯åŒ¹é…&quot;éš”å£&quot;(æ¯”å¦‚:éš”å£è€æ±‰,éš”å£è€ç‹),æˆ–è€…åˆ›å»ºè€…åŒ…å«å¤§çŒªè¹„å­,å¯¹åº”çš„ä»£ç å¦‚ä¸‹:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testQueryString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">LambdaEsQueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Document</span><span class="token punctuation">&gt;</span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LambdaEsQueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;(&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;(&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;creator.keyword&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;:&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;è€ç‹&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;AND&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;(&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;creator&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;:&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;éš”å£&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;OR&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;(&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;creator.keyword&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;:&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;*å¤§çŒªè¹„å­*&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// sbæœ€ç»ˆæ‹¼æ¥ä¸º:((creator.keyword:è€ç‹)AND(creator:éš”å£))OR(creator.keyword:*å¤§çŒªè¹„å­*) ,å¯ä»¥è¯´å’ŒMySQLè¯­æ³•éå¸¸ç›¸ä¼¼äº†</span>
        wrapper<span class="token punctuation">.</span><span class="token function">queryStringQuery</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Document</span><span class="token punctuation">&gt;</span></span> documents <span class="token operator">=</span> documentMapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>documents<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>å‰ç«¯å‚æ•°é¡µé¢æ¯ä¼ é€’ä¸€è¡ŒæŸ¥è¯¢å‚æ•°,æˆ‘ä»¬å¾€sbä¸­appendå¯¹åº”å‚æ•°å°±å®Œäº‹äº†,æ˜¯ä¸æ˜¯å¾ˆç®€å•,æ²¡é”™,ä½†æ˜¯ä»£ç ä¸ä¼˜é›…,å¯å’‹æ•´? è€æ±‰å·²ç»ç»™ä½ ä»¬æƒ³å¥½å‡ºè·¯äº†,æˆ‘ä»¬æä¾›äº†å·¥å…·ç±»,å…¶å…¨è·¯å¾„ä¸º:QueryUtils
æˆ‘ä»¬ç”¨ä½¿ç”¨è¯¥å·¥å…·ç±»é‡æ„ä¸Šé¢çš„ä»£ç ,å¦‚ä¸‹:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testQueryStringQueryMulti</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">LambdaEsQueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Document</span><span class="token punctuation">&gt;</span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LambdaEsQueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> queryStr <span class="token operator">=</span> <span class="token class-name">QueryUtils</span><span class="token punctuation">.</span><span class="token function">combine</span><span class="token punctuation">(</span><span class="token class-name">Link</span><span class="token punctuation">.</span>OR<span class="token punctuation">,</span>
                <span class="token class-name">QueryUtils</span><span class="token punctuation">.</span><span class="token function">buildQueryString</span><span class="token punctuation">(</span><span class="token class-name">Document</span><span class="token operator">::</span><span class="token function">getCreator</span><span class="token punctuation">,</span> <span class="token string">&quot;è€ç‹&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Query</span><span class="token punctuation">.</span>EQ<span class="token punctuation">,</span> <span class="token class-name">Link</span><span class="token punctuation">.</span>AND<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token class-name">QueryUtils</span><span class="token punctuation">.</span><span class="token function">buildQueryString</span><span class="token punctuation">(</span><span class="token class-name">Document</span><span class="token operator">::</span><span class="token function">getCreator</span><span class="token punctuation">,</span> <span class="token string">&quot;éš”å£&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Query</span><span class="token punctuation">.</span>MATCH<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token operator">+</span> <span class="token class-name">QueryUtils</span><span class="token punctuation">.</span><span class="token function">buildQueryString</span><span class="token punctuation">(</span><span class="token class-name">Document</span><span class="token operator">::</span><span class="token function">getCreator</span><span class="token punctuation">,</span> <span class="token string">&quot;*å¤§çŒªè¹„å­*&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Query</span><span class="token punctuation">.</span>EQ<span class="token punctuation">)</span><span class="token punctuation">;</span>
        wrapper<span class="token punctuation">.</span><span class="token function">queryStringQuery</span><span class="token punctuation">(</span>queryStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Document</span><span class="token punctuation">&gt;</span></span> documents <span class="token operator">=</span> documentMapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>documents<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>æ˜¯ä¸æ˜¯ä¼˜é›…äº†å¾ˆå¤š,å…¶ä¸­çš„æšä¸¾Queryå’ŒLinkæˆ‘ä¹Ÿå·²ç»ä¸ºä½ ä»¬å°è£…å¥½äº†,ç›´æ¥ä½¿ç”¨å³å¯,ä¸æ‡‚å…¶æšä¸¾å«ä¹‰ä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å¼€æŸ¥çœ‹,æˆ‘åœ¨æºç ä¸­æœ‰è¯¦ç»†æ³¨é‡Š.</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/xpc1024/easy-es-home-source/edit/master/docs/v1.0.0/020.æ ¸å¿ƒåŠŸèƒ½/030.æ¡ä»¶æ„é€ å™¨.md" target="_blank" rel="noopener noreferrer">å¸®åŠ©æˆ‘ä»¬æ”¹å–„æ­¤æ–‡æ¡£</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2022/06/29, 09:26:41</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/c5999a/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">CRUDæ¥å£</div></a> <a href="/pages/a19563/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">æ··åˆæŸ¥è¯¢</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/c5999a/" class="prev">CRUDæ¥å£</a></span> <span class="next"><a href="/pages/a19563/">æ··åˆæŸ¥è¯¢</a>â†’
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:xpc@dromara.com" title="Mail" target="_blank" class="iconfont icon-youjian"></a><a href="https://gitee.com/dromara/easy-es" title="Gitee" target="_blank" class="iconfont icon-gitee"></a><a href="https://github.com/dromara/easy-es" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2022-2022
    <span><a href="https://gitee.com/easy-es/">è€æ±‰</a>| MIT License</span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d8825657.js" defer></script><script src="/assets/js/2.b31e9563.js" defer></script><script src="/assets/js/17.c964d5e4.js" defer></script>
  </body>
</html>
